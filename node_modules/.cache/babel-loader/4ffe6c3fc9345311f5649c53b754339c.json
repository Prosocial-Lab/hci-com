{"ast":null,"code":"import _slicedToArray from \"C:/Users/spenc/Documents/GitHub/hci-com/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:/Users/spenc/Documents/GitHub/hci-com/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\spenc\\\\Documents\\\\GitHub\\\\hci-com\\\\src\\\\containers\\\\Home\\\\components\\\\IndividualStats.tsx\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport Card from 'react-bootstrap/Card';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport axios from 'axios';\nimport IconArray from './IconArray';\nimport BubbleChart from './BubbleChart';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Trending from './Trending';\nimport TopTweets from './TopTweets';\nimport MyTweets from './MyTweets';\nimport * as am4core from \"@amcharts/amcharts4/core\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport qtip from './q.jpg'; //var id = \"634739719\"\n//var id = \"1293416714923683841\"\n//var id = \"192812670\"\n//var id = \"802233409338675200\"\n//var id = \"18256350\"\n//var id = \"2490180804\"\n//var id = \"18670940\"\n//var id = \"486899842\"\n//var id = \"238753895\"\n//var id = \"247943631\"\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar id = \"30142130\";\nconst Title = styled.p(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    &&& {\\n    font-size: 30px;\\n    font-weight:bold;\\n}\"])));\n_c = Title;\nconst Subtitle = styled.p(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    &&& {\\n    padding: .05em;\\n    font-size: 24px;\\n}\"])));\n_c2 = Subtitle;\nconst Poptitle = styled.p(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n    &&& {\\n    padding: 0.3em;\\n    font-size: 24px;\\n}\"])));\nconst vizpop = {\n  width: '860px',\n  maxWidth: 'none'\n};\nconst linepop = {\n  width: '700px',\n  maxWidth: 'none'\n};\nconst Question = styled.button(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n    &&& {\\n    border-radius: 50%;\\n    font-weight:bold;\\n    background-color: white;\\n    color: black;\\n    border: 2px solid black;\\n    font-size: 12px;\\n    cursor: default;\\n}\"])));\n/*\r\nvar rd_grad0 = new am4core.LinearGradient();\r\nrd_grad0.addColor(am4core.color(\"#9EFA99\"));\r\nrd_grad0.addColor(am4core.color(\"#7BD2FA\"));\r\nrd_grad0.rotation = 45\r\nconst rd_grad = rd_grad0\r\nvar rs_grad0 = new am4core.LinearGradient();\r\nrs_grad0.addColor(am4core.color(\"#FA5F3A\"));\r\nrs_grad0.addColor(am4core.color(\"#9EFA99\"));\r\nrs_grad0.rotation = 45\r\nconst rs_grad = rs_grad0\r\nvar ds_grad0 = new am4core.LinearGradient();\r\nds_grad0.addColor(am4core.color(\"#7BD2FA\"));\r\nds_grad0.addColor(am4core.color(\"#FA5F3A\"));\r\nds_grad0.rotation = 45\r\nconst ds_grad = ds_grad0\r\nvar rds_grad0 = new am4core.LinearGradient();\r\nrds_grad0.addColor(am4core.color(\"#9EFA99\"));\r\nrds_grad0.addColor(am4core.color(\"#7BD2FA\"));\r\nrds_grad0.addColor(am4core.color(\"#FA5F3A\"));\r\nrds_grad0.rotation = 45\r\nconst rds_grad = rds_grad0\r\nconst series_dict = {\r\nr: {col: am4core.color( \"#9EFA99\" ),\r\n      name: \"Researchers\"\r\n     },\r\nd: {col: am4core.color( \"#7BD2FA\" ),\r\n     name: \"Designers\"\r\n    },\r\ns: {col: am4core.color( \"#FA5F3A\" ),\r\n     name: \"Software Engineers\"\r\n    },\r\no: {col: am4core.color( \"#FA9810\" ),\r\nname: \"Other Publics\"\r\n},\r\nrd: {col: rd_grad,\r\nname: \"Researcher/Designers\"\r\n},\r\nrs: {col: rs_grad,\r\nname: \"Researcher/Engineers\"\r\n},\r\nds: {col: ds_grad,\r\nname: \"Designer/Engineers\"\r\n},\r\nrds: {col: rds_grad,\r\nname: \"Researcher/Designer/Engineers\"\r\n},\r\n}\r\n*/\n\nvar rp_grad = new am4core.LinearGradient();\nrp_grad.addColor(am4core.color(\"#9EFA99\"));\nrp_grad.addColor(am4core.color(\"#FA999E\"));\nconst series_dict = {\n  r: {\n    col: am4core.color(\"#9EFA99\"),\n    name: \"Researchers\"\n  },\n  rp: {\n    col: rp_grad,\n    name: \"Researcher/Practitioners\"\n  },\n  p: {\n    col: am4core.color(\"#FA999E\"),\n    name: \"Practitioners\"\n  },\n  o: {\n    col: am4core.color(\"#999EFA\"),\n    name: \"Other Publics\"\n  }\n};\n\nfunction renderTooltip(text) {\n  return /*#__PURE__*/_jsxDEV(Tooltip, {\n    id: \"button-tooltip\",\n    children: text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 3\n  }, this);\n}\n\nfunction toolTrigger(text) {\n  return /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n    placement: \"right\",\n    delay: {\n      show: 100,\n      hide: 100\n    },\n    overlay: renderTooltip(text),\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      width: \"20px\",\n      src: qtip\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 10\n  }, this);\n}\n\nconst follower_q = \"This is the set of all your followers.\";\nconst downstream_q = \"Your downstream audience is the set of followers for everyone who retweeted your tweets (i.e. everyone exposed to your tweets via retweets). This is the median of that audience.\";\n\nfunction IndividualStats(props) {\n  _s();\n\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        isLoading = _useState2[0],\n        setLoading = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        user = _useState4[0],\n        setUser = _useState4[1];\n\n  var num_cols = 10;\n  var num_rows = 20;\n  var denom = 50;\n  /*\r\n  const [isLoading2, setLoading2] = useState(true);\r\n  const [med, setMed] = useState([]);\r\n  */\n\n  useEffect(() => {\n    axios.get(\"http://localhost:4001/twitter/userWhereID/\".concat(id)).then(response => {\n      setUser(response.data);\n      setLoading(false);\n    }).catch(error => console.error(\"There was an error retrieving the retweets list: \".concat(error)));\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: \"My Tweets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 16\n    }, this);\n  } else {\n    var f = JSON.parse(user[0]['followers_class']);\n    var tot_fsquares = 0;\n\n    for (const key in f) {\n      tot_fsquares = tot_fsquares + Math.round(f[key] / denom);\n    }\n\n    var d = JSON.parse(user[0]['median_downstream_class']);\n    var tot_dsquares = 0;\n\n    for (const key in d) {\n      tot_dsquares = tot_dsquares + Math.round(d[key] / denom);\n    }\n\n    var num = Math.max(tot_fsquares, tot_dsquares);\n    num = Math.floor(Math.sqrt(num)) + 1;\n    num_cols = num;\n    num_rows = num + 1;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        padding: \"2em\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"What is my reach?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"columns\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column\",\n          children: [/*#__PURE__*/_jsxDEV(Subtitle, {\n            children: [\"My Followers \", toolTrigger(follower_q)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(IconArray, {\n            divid: \"followers_icon\",\n            data: JSON.parse(user[0]['followers_class']),\n            cols: num_cols,\n            rows: num_rows,\n            denom: denom,\n            series_dict: series_dict\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column\",\n          children: [/*#__PURE__*/_jsxDEV(Subtitle, {\n            children: [\"My Downstream Audience \", toolTrigger(downstream_q)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(IconArray, {\n            divid: \"downstream_icon\",\n            data: JSON.parse(user[0]['median_downstream_class']),\n            cols: num_cols,\n            rows: num_rows,\n            denom: denom,\n            series_dict: series_dict\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Title, {\n        children: \"Who are my followers?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"columns\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column\",\n          children: [/*#__PURE__*/_jsxDEV(Subtitle, {\n            children: \"Followers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(BubbleChart, {\n            divid: \"f_bubble\",\n            data: JSON.parse(user[0]['follower_keywords']),\n            series_dict: series_dict\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column\",\n          children: [/*#__PURE__*/_jsxDEV(Subtitle, {\n            children: \"Downstream\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(BubbleChart, {\n            divid: \"d_bubble\",\n            data: JSON.parse(user[0]['downstream_keywords']),\n            series_dict: series_dict\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Subtitle, {\n          children: \"My Tweets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(MyTweets, {\n          id: user[0].id_text,\n          cols: num_cols,\n          rows: num_rows,\n          denom: denom,\n          series_dict: series_dict\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        padding: \"2em\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"What is my audience talking about?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"columns\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column\",\n          children: [/*#__PURE__*/_jsxDEV(Subtitle, {\n            children: \"Top Tweets\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(TopTweets, {\n            data: JSON.parse(user[0]['audience_top_tweets'])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n            children: \"Trending Hashtags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Trending, {\n            data: JSON.parse(user[0]['audience_trending'])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 1\n  }, this);\n}\n\n_s(IndividualStats, \"VCoUEuyOMy4IgCJOs5U7nYxhVyQ=\");\n\n_c3 = IndividualStats;\n;\nexport default IndividualStats;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Title\");\n$RefreshReg$(_c2, \"Subtitle\");\n$RefreshReg$(_c3, \"IndividualStats\");","map":{"version":3,"sources":["C:/Users/spenc/Documents/GitHub/hci-com/src/containers/Home/components/IndividualStats.tsx"],"names":["React","useEffect","useState","styled","Card","OverlayTrigger","axios","IconArray","BubbleChart","Trending","TopTweets","MyTweets","am4core","Tooltip","qtip","id","Title","p","Subtitle","Poptitle","vizpop","width","maxWidth","linepop","Question","button","rp_grad","LinearGradient","addColor","color","series_dict","r","col","name","rp","o","renderTooltip","text","toolTrigger","show","hide","follower_q","downstream_q","IndividualStats","props","isLoading","setLoading","user","setUser","num_cols","num_rows","denom","get","then","response","data","catch","error","console","f","JSON","parse","tot_fsquares","key","Math","round","d","tot_dsquares","num","max","floor","sqrt","padding","id_text"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport {space, color, layout} from 'styled-system';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Popover from 'react-bootstrap/Popover'\r\nimport Overlay from 'react-bootstrap/Overlay'\r\nimport Button from 'react-bootstrap/Button'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport CardColumns from 'react-bootstrap/CardColumns';\r\nimport MyWaffle from './MyWaffle';\r\nimport MyDownstream from './MyDownstream';\r\nimport WaffleChart from './WaffleChart';\r\nimport axios from 'axios';\r\nimport LineChart from './LineChart';\r\nimport IconArray from './IconArray';\r\nimport BubbleChart from './BubbleChart';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Trending from './Trending';\r\nimport TopTweets from './TopTweets';\r\nimport MyTweets from './MyTweets'\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport Tooltip from \"react-bootstrap/Tooltip\";\r\n\r\nimport qtip from './q.jpg'\r\n\r\n//var id = \"634739719\"\r\n//var id = \"1293416714923683841\"\r\n//var id = \"192812670\"\r\n//var id = \"802233409338675200\"\r\n//var id = \"18256350\"\r\n//var id = \"2490180804\"\r\n//var id = \"18670940\"\r\n//var id = \"486899842\"\r\n//var id = \"238753895\"\r\n//var id = \"247943631\"\r\nvar id = \"30142130\"\r\n\r\nconst Title = styled.p`\r\n    &&& {\r\n    font-size: 30px;\r\n    font-weight:bold;\r\n}`\r\n\r\nconst Subtitle = styled.p`\r\n    &&& {\r\n    padding: .05em;\r\n    font-size: 24px;\r\n}`\r\n\r\nconst Poptitle = styled.p`\r\n    &&& {\r\n    padding: 0.3em;\r\n    font-size: 24px;\r\n}`\r\n\r\nconst vizpop = {\r\n    width: '860px',\r\n    maxWidth: 'none'\r\n  };\r\n\r\nconst linepop = {\r\n    width: '700px',\r\n    maxWidth: 'none'\r\n  };\r\n\r\nconst Question = styled.button`\r\n    &&& {\r\n    border-radius: 50%;\r\n    font-weight:bold;\r\n    background-color: white;\r\n    color: black;\r\n    border: 2px solid black;\r\n    font-size: 12px;\r\n    cursor: default;\r\n}`\r\n\r\n  /*\r\nvar rd_grad0 = new am4core.LinearGradient();\r\nrd_grad0.addColor(am4core.color(\"#9EFA99\"));\r\nrd_grad0.addColor(am4core.color(\"#7BD2FA\"));\r\nrd_grad0.rotation = 45\r\nconst rd_grad = rd_grad0\r\n\r\nvar rs_grad0 = new am4core.LinearGradient();\r\nrs_grad0.addColor(am4core.color(\"#FA5F3A\"));\r\nrs_grad0.addColor(am4core.color(\"#9EFA99\"));\r\nrs_grad0.rotation = 45\r\nconst rs_grad = rs_grad0\r\n\r\nvar ds_grad0 = new am4core.LinearGradient();\r\nds_grad0.addColor(am4core.color(\"#7BD2FA\"));\r\nds_grad0.addColor(am4core.color(\"#FA5F3A\"));\r\nds_grad0.rotation = 45\r\nconst ds_grad = ds_grad0\r\n\r\nvar rds_grad0 = new am4core.LinearGradient();\r\nrds_grad0.addColor(am4core.color(\"#9EFA99\"));\r\nrds_grad0.addColor(am4core.color(\"#7BD2FA\"));\r\nrds_grad0.addColor(am4core.color(\"#FA5F3A\"));\r\nrds_grad0.rotation = 45\r\nconst rds_grad = rds_grad0\r\n\r\nconst series_dict = {\r\n  r: {col: am4core.color( \"#9EFA99\" ),\r\n        name: \"Researchers\"\r\n       },\r\n  d: {col: am4core.color( \"#7BD2FA\" ),\r\n       name: \"Designers\"\r\n      },\r\n  s: {col: am4core.color( \"#FA5F3A\" ),\r\n       name: \"Software Engineers\"\r\n      },\r\n  o: {col: am4core.color( \"#FA9810\" ),\r\n  name: \"Other Publics\"\r\n },\r\n  rd: {col: rd_grad,\r\n  name: \"Researcher/Designers\"\r\n },\r\n rs: {col: rs_grad,\r\n  name: \"Researcher/Engineers\"\r\n },\r\n ds: {col: ds_grad,\r\n  name: \"Designer/Engineers\"\r\n },\r\n rds: {col: rds_grad,\r\n  name: \"Researcher/Designer/Engineers\"\r\n },\r\n}\r\n*/\r\n\r\nvar rp_grad = new am4core.LinearGradient();\r\nrp_grad.addColor(am4core.color(\"#9EFA99\"));\r\nrp_grad.addColor(am4core.color(\"#FA999E\"));\r\n\r\nconst series_dict = {\r\n  r: {col: am4core.color( \"#9EFA99\" ),\r\n        name: \"Researchers\"\r\n       },\r\n  rp: {col: rp_grad,\r\n        name: \"Researcher/Practitioners\"\r\n       },\r\n  p: {col: am4core.color( \"#FA999E\" ),\r\n       name: \"Practitioners\"\r\n      },\r\n  o: {col: am4core.color( \"#999EFA\" ),\r\n  name: \"Other Publics\"\r\n }\r\n}\r\n\r\nfunction renderTooltip(text){\r\n  return(\r\n  <Tooltip id=\"button-tooltip\">\r\n    {text}\r\n  </Tooltip>\r\n  )\r\n}\r\n\r\nfunction toolTrigger(text){\r\n  return(<OverlayTrigger\r\n    placement=\"right\"\r\n    delay={{ show: 100, hide: 100 }}\r\n    overlay={renderTooltip(text)}\r\n  >\r\n    <img width = \"20px\" src = {qtip} />\r\n  </OverlayTrigger>\r\n  )\r\n}\r\n\r\nconst follower_q = \"This is the set of all your followers.\"\r\n\r\nconst downstream_q = \"Your downstream audience is the set of followers for everyone who retweeted your tweets (i.e. everyone exposed to your tweets via retweets). This is the median of that audience.\"\r\n    \r\n\r\nfunction IndividualStats(props) {\r\n    \r\n\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [user, setUser] = useState([]);\r\n    var num_cols = 10\r\n    var num_rows = 20\r\n    var denom = 50\r\n\r\n    /*\r\n    const [isLoading2, setLoading2] = useState(true);\r\n    const [med, setMed] = useState([]);\r\n    */\r\n\r\n    useEffect(() => {\r\n        axios\r\n        .get(`http://localhost:4001/twitter/userWhereID/${id}`)\r\n        .then(response => {\r\n          setUser(response.data);\r\n          setLoading(false);\r\n        })\r\n        .catch(error => console.error(`There was an error retrieving the retweets list: ${error}`));\r\n        \r\n\r\n      }, []);\r\n\r\n      if (isLoading) {\r\n        return <div>\r\n        <Card>\r\n            <Title>My Tweets</Title>\r\n            <p>Loading...</p>\r\n        </Card>\r\n        </div>\r\n      } else {\r\n        var f = JSON.parse(user[0]['followers_class'])\r\n        var tot_fsquares = 0\r\n        for (const key in f){\r\n          tot_fsquares = tot_fsquares + Math.round(f[key] / denom)\r\n        }\r\n\r\n        var d = JSON.parse(user[0]['median_downstream_class'])\r\n        var tot_dsquares = 0\r\n        for (const key in d){\r\n          tot_dsquares = tot_dsquares + Math.round(d[key] / denom)\r\n        }\r\n\r\n        var num = Math.max(tot_fsquares, tot_dsquares)\r\n        num = Math.floor(Math.sqrt(num)) + 1\r\n        num_cols = num\r\n        num_rows = num + 1\r\n\r\n      }\r\n\r\n      return(\r\n\r\n<div>\r\n    <Card style ={{padding:\"2em\"}}>\r\n        <Title>What is my reach?</Title>\r\n            <div className='columns'>\r\n                <div className='column'>\r\n                    <Subtitle>My Followers {toolTrigger(follower_q)}</Subtitle>\r\n                    {/*<WaffleChart divid = \"myfollowers\" data = {user['followers_class']} />*/}\r\n                    {/*<PopFollowers/>*/}\r\n                    <IconArray divid = \"followers_icon\" data = {JSON.parse(user[0]['followers_class'])} cols = {num_cols} rows = {num_rows} denom = {denom} series_dict = {series_dict}/>\r\n                    \r\n                </div>\r\n                <div className='column'>\r\n                    <Subtitle>My Downstream Audience {toolTrigger(downstream_q)}</Subtitle>\r\n                    {/*<WaffleChart divid = \"mydownstream\" data = {user['followers_class']} />*/}\r\n                    {/*<PopDownstream/>*/}\r\n                    <IconArray divid = \"downstream_icon\" data = {JSON.parse(user[0]['median_downstream_class'])} cols = {num_cols} rows = {num_rows} denom = {denom} series_dict = {series_dict}/>\r\n                </div>\r\n            </div>\r\n\r\n            <br/>\r\n\r\n            <Title>Who are my followers?</Title>\r\n            <div className='columns'>\r\n                <div className='column'>\r\n                  <Subtitle>Followers</Subtitle>\r\n                  <BubbleChart divid = \"f_bubble\" data = {JSON.parse(user[0]['follower_keywords'])} series_dict = {series_dict}/>\r\n\r\n                </div>\r\n                <div className='column'>\r\n                  <Subtitle>Downstream</Subtitle>\r\n                  <BubbleChart divid = \"d_bubble\" data = {JSON.parse(user[0]['downstream_keywords'])} series_dict = {series_dict}/>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n              <Subtitle>My Tweets</Subtitle>\r\n              <MyTweets id = {user[0].id_text} cols = {num_cols} rows = {num_rows} denom = {denom} series_dict = {series_dict}/>\r\n            </div>\r\n\r\n    </Card>\r\n    <br/>\r\n\r\n    <Card style ={{padding:\"2em\"}}>\r\n      <Title>What is my audience talking about?</Title>\r\n      <div className='columns'>\r\n                <div className='column'>\r\n                  <Subtitle>Top Tweets</Subtitle>\r\n                  <TopTweets data = {JSON.parse(user[0]['audience_top_tweets'])}/>\r\n                  <Subtitle>Trending Hashtags</Subtitle>\r\n                  <Trending data = {JSON.parse(user[0]['audience_trending'])}/>\r\n                </div>\r\n\r\n                <div className='column'>\r\n                  \r\n\r\n                </div>\r\n            </div>\r\n    </Card>\r\n\r\n</div>\r\n      );\r\n};\r\n\r\n\r\nexport default IndividualStats;"]},"metadata":{},"sourceType":"module"}