{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\spenc\\\\Documents\\\\GitHub\\\\hci-com\\\\src\\\\containers\\\\Home\\\\components\\\\LineChart.tsx\",\n    _s2 = $RefreshSig$();\n\nimport React, { useRef, useLayoutEffect } from 'react';\nimport * as am4core from \"@amcharts/amcharts4/core\";\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nam4core.useTheme(am4themes_animated);\n\nfunction date_format(s) {\n  s = s.substring(0, 10);\n  s = s.replaceAll('/', '-');\n  return s;\n}\n\nfunction LineChart(props) {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const chart = useRef(null);\n  var rs = 3600;\n  var nrs = 6400;\n  useLayoutEffect(_s(() => {\n    _s();\n\n    let x = am4core.create(props.id, am4charts.XYChart);\n    x.paddingRight = 20;\n    x.paddingLeft = 20;\n    /* Chart code */\n    // Themes begin\n\n    am4core.useTheme(am4themes_animated); // Themes end\n    // Chart\n\n    let chart = am4core.create(props.id, am4charts.XYChart); // Add data\n\n    chart.data = [{\n      \"date\": \"2020-06-01\",\n      \"value\": 10000\n    }, {\n      \"date\": \"2020-06-10\",\n      \"value\": 10091\n    }, {\n      \"date\": \"2020-06-20\",\n      \"value\": 10514\n    }, {\n      \"date\": \"2020-07-01\",\n      \"value\": 11111\n    }, {\n      \"date\": \"2020-07-10\",\n      \"value\": 11138\n    }, {\n      \"date\": \"2020-07-20\",\n      \"value\": 13136\n    }, {\n      \"date\": \"2020-08-01\",\n      \"value\": 13204\n    }, {\n      \"date\": \"2020-08-10\",\n      \"value\": 13609\n    }, {\n      \"date\": \"2020-08-20\",\n      \"value\": 14609\n    }, {\n      \"date\": \"2020-09-01\",\n      \"value\": 16609\n    }, {\n      \"date\": \"2020-09-10\",\n      \"value\": 17111\n    }, {\n      \"date\": \"2020-09-20\",\n      \"value\": 17911\n    }];\n\n    function createSeries(field, name, op, color) {\n      var series = chart.series.push(new am4charts.LineSeries());\n      series.dataFields.valueY = field;\n      series.dataFields.dateX = \"date\";\n      series.tooltipText = \"{valueY}\";\n      series.name = name;\n      series.strokeWidth = 3;\n      series.stroke = am4core.color(color);\n      series.fill = am4core.color(color);\n      series.fillOpacity = op;\n      series.minBulletDistance = 15;\n      return series;\n    }\n\n    function sameDate(date, pairs, dv, def) {\n      for (let i = 0; i < pairs.length; i++) {\n        let d = pairs[i]['timestamp'];\n\n        if (date == d) {\n          return pairs[i][dv];\n        }\n      }\n\n      return def;\n    } //Update data\n\n\n    var com = props.data;\n    var coms = [];\n\n    if (props.med) {\n      let def = 0;\n\n      for (let i = 0; i < com.length; i++) {\n        if (com[i][props.dv] > -1) {\n          let s = com[i]['timestamp'].substring(0, 10);\n          let m = sameDate(s, props.med, props.dv, def);\n          def = m;\n          coms.push({\n            \"date\": date_format(com[i]['timestamp']),\n            \"value\": com[i][props.dv],\n            \"med\": m\n          });\n        }\n      }\n\n      console.log(props.yaxis);\n      console.log(coms);\n    } else {\n      for (let i = 0; i < com.length; i++) {\n        if (com[i][props.dv] > -1) {\n          coms.push({\n            \"date\": date_format(com[i]['timestamp']),\n            \"value\": com[i][props.dv]\n          });\n        }\n      }\n    }\n\n    chart.data = coms; // Create axes\n\n    var dateAxis = chart.xAxes.push(new am4charts.DateAxis());\n    dateAxis.renderer.grid.template.location = 0;\n    dateAxis.renderer.minGridDistance = 50;\n    var valueAxis = chart.yAxes.push(new am4charts.ValueAxis()); //valueAxis.title.text = \"Followers\"\n\n    valueAxis.title.text = props.yaxis; // Create series\n\n    /*\r\n    var series = chart.series.push(new am4charts.LineSeries());\r\n    series.dataFields.valueY = \"value\";\r\n    series.dataFields.dateX = \"date\";\r\n    series.tooltipText = \"{valueY}\";\r\n    series.strokeWidth = 3;\r\n    series.fillOpacity = 0.5;\r\n    series.minBulletDistance = 15;\r\n    */\n\n    let series = createSeries(\"value\", props.yaxis, 0.5, \"#0057ff\");\n    var bullet = series.bullets.push(new am4charts.CircleBullet());\n\n    if (props.med) {\n      let series2 = createSeries(\"med\", \"Median\", 0.25, \"#ffa800\");\n      var bullet2 = series2.bullets.push(new am4charts.CircleBullet());\n    } // Add vertical scrollbar\n    // chart.scrollbarY = new am4core.Scrollbar();\n    //chart.scrollbarY.marginLeft = 0;\n    // Add cursor\n\n\n    chart.cursor = new am4charts.XYCursor();\n    valueAxis.cursorTooltipEnabled = false; //chart.cursor.behavior = \"zoomY\";\n\n    chart.cursor.lineX.disabled = true;\n    chart.cursor.lineY.disabled = true; // Drop-shaped tooltips\n\n    series.tooltip.background.cornerRadius = 20;\n    series.tooltip.background.strokeOpacity = 0;\n    series.tooltip.pointerOrientation = \"vertical\";\n    series.tooltip.label.minWidth = 40;\n    series.tooltip.label.minHeight = 40;\n    series.tooltip.label.textAlign = \"middle\"; // Make bullets grow on hover\n\n    var bullet = series.bullets.push(new am4charts.CircleBullet());\n    bullet.circle.strokeWidth = 1;\n    bullet.circle.radius = 2;\n    bullet.circle.fill = am4core.color(\"#fff\");\n    var bullethover = bullet.states.create(\"hover\");\n    bullethover.properties.scale = 1.3;\n  }, \"tFi1QeP7MrrEQ5RfFlomBKZonOc=\", false, function () {\n    return [am4core.useTheme];\n  }), []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: props.id,\n      style: {\n        width: \"75%\",\n        height: \"300px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(LineChart, \"a4NZWiQVwnDvUnwE0MxHAIGLIqg=\");\n\n_c = LineChart;\n; // end am4core.ready()\n\nexport default LineChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"LineChart\");","map":{"version":3,"sources":["C:/Users/spenc/Documents/GitHub/hci-com/src/containers/Home/components/LineChart.tsx"],"names":["React","useRef","useLayoutEffect","am4core","am4charts","am4themes_animated","useTheme","date_format","s","substring","replaceAll","LineChart","props","chart","rs","nrs","x","create","id","XYChart","paddingRight","paddingLeft","data","createSeries","field","name","op","color","series","push","LineSeries","dataFields","valueY","dateX","tooltipText","strokeWidth","stroke","fill","fillOpacity","minBulletDistance","sameDate","date","pairs","dv","def","i","length","d","com","coms","med","m","console","log","yaxis","dateAxis","xAxes","DateAxis","renderer","grid","template","location","minGridDistance","valueAxis","yAxes","ValueAxis","title","text","bullet","bullets","CircleBullet","series2","bullet2","cursor","XYCursor","cursorTooltipEnabled","lineX","disabled","lineY","tooltip","background","cornerRadius","strokeOpacity","pointerOrientation","label","minWidth","minHeight","textAlign","circle","radius","bullethover","states","properties","scale","width","height"],"mappings":"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","sourcesContent":["import React, { useRef, useLayoutEffect } from 'react';\r\nimport logo from './logo.svg';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\nimport styled from 'styled-components';\r\nimport {space, color, layout} from 'styled-system';\r\nimport Card from 'react-bootstrap/Card';\r\nimport axios from 'axios'\r\nimport { ContactlessOutlined, LocalConvenienceStoreOutlined } from '@material-ui/icons';\r\n\r\nam4core.useTheme(am4themes_animated);\r\n\r\nfunction date_format(s: string) {\r\n  s = s.substring(0, 10);\r\n  s = s.replaceAll('/', '-');\r\n  return s;\r\n}\r\n\r\nfunction LineChart(props) {\r\n  const chart = useRef(null);\r\n\r\n  var rs = 3600\r\n  var nrs = 6400\r\n\r\n  useLayoutEffect(() => {\r\n    let x = am4core.create(props.id, am4charts.XYChart);\r\n\r\n    x.paddingRight = 20;\r\n    x.paddingLeft = 20;\r\n\r\n    /* Chart code */\r\n// Themes begin\r\nam4core.useTheme(am4themes_animated);\r\n// Themes end\r\n\r\n// Chart\r\nlet chart = am4core.create( props.id, am4charts.XYChart );\r\n\r\n// Add data\r\nchart.data = [ {\r\n  \"date\": \"2020-06-01\",\r\n  \"value\": 10000\r\n}, {\r\n  \"date\": \"2020-06-10\",\r\n  \"value\": 10091\r\n},\r\n{\r\n  \"date\": \"2020-06-20\",\r\n  \"value\": 10514\r\n},\r\n{\r\n  \"date\": \"2020-07-01\",\r\n  \"value\": 11111\r\n}, {\r\n  \"date\": \"2020-07-10\",\r\n  \"value\": 11138\r\n},\r\n{\r\n  \"date\": \"2020-07-20\",\r\n  \"value\": 13136\r\n},\r\n{\r\n  \"date\": \"2020-08-01\",\r\n  \"value\": 13204\r\n}, {\r\n  \"date\": \"2020-08-10\",\r\n  \"value\": 13609\r\n},\r\n{\r\n  \"date\": \"2020-08-20\",\r\n  \"value\": 14609\r\n},\r\n{\r\n  \"date\": \"2020-09-01\",\r\n  \"value\": 16609\r\n}, {\r\n  \"date\": \"2020-09-10\",\r\n  \"value\": 17111\r\n},\r\n{\r\n  \"date\": \"2020-09-20\",\r\n  \"value\": 17911\r\n},\r\n   ];\r\n\r\nfunction createSeries(field, name, op, color) {\r\n  var series = chart.series.push(new am4charts.LineSeries());\r\n  series.dataFields.valueY = field;\r\n  series.dataFields.dateX = \"date\";\r\n  series.tooltipText = \"{valueY}\";\r\n  series.name = name;\r\n  series.strokeWidth = 3;\r\n  series.stroke = am4core.color( color );\r\n  series.fill = am4core.color( color );\r\n  series.fillOpacity = op;\r\n  series.minBulletDistance = 15;\r\n    \r\n  return series;\r\n  }\r\n\r\nfunction sameDate(date, pairs, dv, def) {\r\n  for (let i = 0; i < pairs.length; i++) {\r\n    let d = pairs[i]['timestamp']\r\n    if (date == d){\r\n      return pairs[i][dv]\r\n    }\r\n  }\r\n\r\n  return def;\r\n\r\n}\r\n\r\n//Update data\r\nvar com = props.data;\r\nvar coms:object[] = [];\r\nif (props.med){\r\n  let def = 0;\r\n  for (let i = 0; i < com.length; i++){\r\n    if (com[i][props.dv] > -1){\r\n      let s = com[i]['timestamp'].substring(0, 10);\r\n      let m = sameDate(s, props.med, props.dv, def);\r\n      def = m;\r\n      coms.push({\"date\": date_format(com[i]['timestamp']),\r\n                 \"value\": com[i][props.dv],\r\n                 \"med\": m})\r\n    }\r\n    \r\n  }\r\n  console.log(props.yaxis);\r\n  console.log(coms);\r\n} else{\r\n  for (let i = 0; i < com.length; i++){\r\n    if (com[i][props.dv] > -1){\r\n      coms.push({\"date\": date_format(com[i]['timestamp']),\r\n                 \"value\": com[i][props.dv]})\r\n    }\r\n    \r\n  }\r\n}\r\n\r\nchart.data = coms\r\n\r\n// Create axes\r\nvar dateAxis = chart.xAxes.push(new am4charts.DateAxis());\r\ndateAxis.renderer.grid.template.location = 0;\r\ndateAxis.renderer.minGridDistance = 50;\r\n\r\nvar valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\r\n//valueAxis.title.text = \"Followers\"\r\nvalueAxis.title.text = props.yaxis;\r\n\r\n// Create series\r\n/*\r\nvar series = chart.series.push(new am4charts.LineSeries());\r\nseries.dataFields.valueY = \"value\";\r\nseries.dataFields.dateX = \"date\";\r\nseries.tooltipText = \"{valueY}\";\r\nseries.strokeWidth = 3;\r\nseries.fillOpacity = 0.5;\r\nseries.minBulletDistance = 15;\r\n*/\r\nlet series = createSeries(\"value\", props.yaxis, 0.5, \"#0057ff\");\r\n\r\nvar bullet = series.bullets.push(new am4charts.CircleBullet());\r\n\r\nif (props.med){\r\n  let series2 = createSeries(\"med\", \"Median\", 0.25, \"#ffa800\");\r\n  var bullet2 = series2.bullets.push(new am4charts.CircleBullet());\r\n}\r\n\r\n\r\n// Add vertical scrollbar\r\n// chart.scrollbarY = new am4core.Scrollbar();\r\n//chart.scrollbarY.marginLeft = 0;\r\n\r\n// Add cursor\r\nchart.cursor = new am4charts.XYCursor();\r\nvalueAxis.cursorTooltipEnabled = false;\r\n//chart.cursor.behavior = \"zoomY\";\r\nchart.cursor.lineX.disabled = true;\r\nchart.cursor.lineY.disabled = true;\r\n\r\n\r\n\r\n// Drop-shaped tooltips\r\nseries.tooltip.background.cornerRadius = 20;\r\nseries.tooltip.background.strokeOpacity = 0;\r\nseries.tooltip.pointerOrientation = \"vertical\";\r\nseries.tooltip.label.minWidth = 40;\r\nseries.tooltip.label.minHeight = 40;\r\nseries.tooltip.label.textAlign = \"middle\";\r\n\r\n// Make bullets grow on hover\r\nvar bullet = series.bullets.push(new am4charts.CircleBullet());\r\nbullet.circle.strokeWidth = 1;\r\nbullet.circle.radius = 2;\r\nbullet.circle.fill = am4core.color(\"#fff\");\r\n\r\nvar bullethover = bullet.states.create(\"hover\");\r\nbullethover.properties.scale = 1.3;\r\n\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n        <div id={props.id} style={{ width: \"75%\", height: \"300px\" }}></div>\r\n    </div>\r\n    \r\n  );\r\n  \r\n  }; // end am4core.ready()\r\n\r\nexport default LineChart;"]},"metadata":{},"sourceType":"module"}