{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\spenc\\\\Documents\\\\GitHub\\\\hci-com\\\\src\\\\containers\\\\Home\\\\components\\\\TweetDownstream.tsx\",\n    _s2 = $RefreshSig$();\n\nimport React, { useRef, useLayoutEffect } from 'react';\nimport * as am4core from \"@amcharts/amcharts4/core\";\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nam4core.useTheme(am4themes_animated);\n\nfunction WaffleProportionCheat(n, m) {\n  var data1 = [];\n  var data2 = [];\n  var x_val = n.valueOf();\n  var y_val = m.valueOf();\n  var tot = x_val + y_val;\n  var num_cols = parseInt(Math.sqrt(tot / 50).toFixed());\n  num_cols = Math.max(3, num_cols);\n  num_cols = Math.min(30, num_cols);\n  var num_cells = num_cols * num_cols;\n  var num1 = x_val / tot;\n  var num2 = 1 - num1;\n  var s1 = (num1 * num_cells).toFixed();\n  var s2 = (num2 * num_cells).toFixed();\n  var r1 = parseInt(s1);\n  var r2 = parseInt(s2);\n  var row = 1;\n  var col = 1;\n  var new_data_x = [];\n  var new_data_y = [];\n\n  for (let i = 1; i <= num_cols; i++) {\n    new_data_x.push({\n      x: i.toString()\n    });\n  }\n\n  for (let i = 1; i <= num_cols; i++) {\n    new_data_y.push({\n      y: i.toString()\n    });\n  }\n\n  for (let i = 0; i < r1; i++) {\n    var x_str = row.toString();\n    var y_str = col.toString();\n    data1.push({\n      x: x_str,\n      y: y_str\n    });\n\n    if (col == num_cols) {\n      row = row + 1;\n      col = 1;\n    } else {\n      col = col + 1;\n    }\n  }\n\n  for (let i = r1; i < num_cells; i++) {\n    var x_str = row.toString();\n    var y_str = col.toString();\n    data2.push({\n      x: x_str,\n      y: y_str\n    });\n\n    if (col == num_cols) {\n      row = row + 1;\n      col = 1;\n    } else {\n      col = col + 1;\n    }\n  }\n\n  return [data1, data2, new_data_x, new_data_y];\n}\n\n_c = WaffleProportionCheat;\n\nfunction WaffleProportion(n, m) {\n  var data1 = [];\n  var data2 = [];\n  var x_val = n.valueOf();\n  var y_val = m.valueOf();\n  var tot = x_val + y_val;\n  var num1 = x_val / tot;\n  var num2 = 1 - num1;\n  var s1 = (num1 * 100).toFixed();\n  var s2 = (num2 * 100).toFixed();\n  var r1 = parseInt(s1);\n  var r2 = parseInt(s2);\n  var row = 1;\n  var col = 1;\n\n  for (let i = 0; i < r1; i++) {\n    var x_str = row.toString();\n    var y_str = col.toString();\n    data1.push({\n      x: x_str,\n      y: y_str\n    });\n\n    if (col == 10) {\n      row = row + 1;\n      col = 1;\n    } else {\n      col = col + 1;\n    }\n  }\n\n  for (let i = r1; i < 100; i++) {\n    var x_str = row.toString();\n    var y_str = col.toString();\n    data2.push({\n      x: x_str,\n      y: y_str\n    });\n\n    if (col == 10) {\n      row = row + 1;\n      col = 1;\n    } else {\n      col = col + 1;\n    }\n  }\n\n  return [data1, data2];\n}\n\n_c2 = WaffleProportion;\n\nfunction TweetDownstream(props) {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const chart = useRef(null);\n  var down_r = props.down_r;\n  var down_n = props.down_n;\n  var divid = props.divid;\n  var rs = 3600;\n  var nrs = 6400;\n  useLayoutEffect(_s(() => {\n    _s();\n\n    let x = am4core.create(divid, am4charts.XYChart);\n    x.paddingRight = 20;\n    x.paddingLeft = 20;\n    /* Chart code */\n    // Themes begin\n\n    am4core.useTheme(am4themes_animated); // Themes end\n    // Chart\n\n    let chart = am4core.create(divid, am4charts.XYChart);\n    chart.hiddenState.properties.opacity = 0; // this creates initial fade-in\n    //chart.colors.step = 2;\n\n    chart.colors.list = [am4core.color(\"#98a2df\"), am4core.color(\"#e96b6a\"), am4core.color(\"#a2df98\")];\n    var title = chart.titles.create();\n\n    if (typeof props.title != \"undefined\") {\n      var t = props.title.toString();\n      title.text = t.concat(\" retweets\");\n      title.fontSize = 18;\n      title.marginBottom = 10;\n    } // X axis\n\n\n    let xAxis = chart.xAxes.push(new am4charts.CategoryAxis());\n    xAxis.dataFields.category = \"x\";\n    xAxis.renderer.grid.template.location = 0;\n    xAxis.renderer.minGridDistance = 10;\n    xAxis.renderer.labels.template.disabled = true;\n    xAxis.data = [{\n      x: \"1\"\n    }, {\n      x: \"2\"\n    }, {\n      x: \"3\"\n    }, {\n      x: \"4\"\n    }, {\n      x: \"5\"\n    }, {\n      x: \"6\"\n    }, {\n      x: \"7\"\n    }, {\n      x: \"8\"\n    }, {\n      x: \"9\"\n    }, {\n      x: \"10\"\n    }]; // Y axis\n\n    let yAxis = chart.yAxes.push(new am4charts.CategoryAxis());\n    yAxis.renderer.labels.template.disabled = true;\n    yAxis.renderer.grid.template.location = 0;\n    yAxis.renderer.minGridDistance = 10;\n    yAxis.dataFields.category = \"y\";\n    yAxis.data = [{\n      y: \"1\"\n    }, {\n      y: \"2\"\n    }, {\n      y: \"3\"\n    }, {\n      y: \"4\"\n    }, {\n      y: \"5\"\n    }, {\n      y: \"6\"\n    }, {\n      y: \"7\"\n    }, {\n      y: \"8\"\n    }, {\n      y: \"9\"\n    }, {\n      y: \"10\"\n    }]; // Legend\n\n    chart.legend = new am4charts.Legend(); // Create series\n\n    function createSeries(name) {\n      let series = chart.series.push(new am4charts.ColumnSeries());\n      series.dataFields.categoryX = \"x\";\n      series.dataFields.categoryY = \"y\";\n      series.sequencedInterpolation = true;\n      series.defaultState.transitionDuration = 3000;\n      series.name = name; // Set up column appearance\n\n      let column = series.columns.template;\n      column.strokeWidth = 1;\n      column.strokeOpacity = 1;\n      column.stroke = am4core.color(\"#ffffff\");\n      column.width = am4core.percent(100);\n      column.height = am4core.percent(100); //column.column.cornerRadius(6, 6, 6, 6);\n\n      return series;\n    }\n\n    let series1 = createSeries(\"Researchers\");\n    series1.data = [];\n    let series2 = createSeries(\"Non-Researchers\");\n    series2.data = [];\n    var num1 = new Number(0);\n    num1 = down_r;\n    var num2 = new Number(0);\n    num2 = down_n;\n    series1.name = \"Researchers: \" + num1.toString();\n    series2.name = \"Non-researchers: \" + num2.toString();\n    var datas = WaffleProportionCheat(num1, num2);\n    xAxis.data = datas[2];\n    yAxis.data = datas[3];\n    series1.data = datas[0];\n    series2.data = datas[1];\n  }, \"tFi1QeP7MrrEQ5RfFlomBKZonOc=\", false, function () {\n    return [am4core.useTheme];\n  }), []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: divid,\n      style: {\n        width: \"50%\",\n        height: \"300px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(TweetDownstream, \"a4NZWiQVwnDvUnwE0MxHAIGLIqg=\");\n\n_c3 = TweetDownstream;\nexport default TweetDownstream;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"WaffleProportionCheat\");\n$RefreshReg$(_c2, \"WaffleProportion\");\n$RefreshReg$(_c3, \"TweetDownstream\");","map":{"version":3,"sources":["C:/Users/spenc/Documents/GitHub/hci-com/src/containers/Home/components/TweetDownstream.tsx"],"names":["React","useRef","useLayoutEffect","am4core","am4charts","am4themes_animated","useTheme","WaffleProportionCheat","n","m","data1","data2","x_val","valueOf","y_val","tot","num_cols","parseInt","Math","sqrt","toFixed","max","min","num_cells","num1","num2","s1","s2","r1","r2","row","col","new_data_x","new_data_y","i","push","x","toString","y","x_str","y_str","WaffleProportion","TweetDownstream","props","chart","down_r","down_n","divid","rs","nrs","create","XYChart","paddingRight","paddingLeft","hiddenState","properties","opacity","colors","list","color","title","titles","t","text","concat","fontSize","marginBottom","xAxis","xAxes","CategoryAxis","dataFields","category","renderer","grid","template","location","minGridDistance","labels","disabled","data","yAxis","yAxes","legend","Legend","createSeries","name","series","ColumnSeries","categoryX","categoryY","sequencedInterpolation","defaultState","transitionDuration","column","columns","strokeWidth","strokeOpacity","stroke","width","percent","height","series1","series2","Number","datas"],"mappings":"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","sourcesContent":["import React, { useRef, useLayoutEffect } from 'react';\r\nimport logo from './logo.svg';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\nimport styled from 'styled-components';\r\nimport {space, color, layout} from 'styled-system';\r\nimport Card from 'react-bootstrap/Card';\r\nimport axios from 'axios'\r\nimport { Tweet} from 'react-twitter-widgets'\r\n\r\nam4core.useTheme(am4themes_animated);\r\n\r\nfunction WaffleProportionCheat(n: Number, m: Number){\r\n  var data1 = [];\r\n  var data2 = [];\r\n  var x_val = n.valueOf();\r\n  var y_val = m.valueOf();\r\n\r\n  var tot = x_val + y_val;\r\n\r\n  var num_cols = parseInt(Math.sqrt((tot / 50)).toFixed());\r\n\r\n  num_cols = Math.max(3, num_cols);\r\n  num_cols = Math.min(30, num_cols)\r\n\r\n  var num_cells = num_cols * num_cols\r\n\r\n  var num1 = x_val / tot;\r\n  var num2 = 1 - num1;\r\n\r\n  var s1 = (num1 * num_cells).toFixed();\r\n  var s2 = (num2 * num_cells).toFixed();\r\n\r\n  var r1 = parseInt(s1);\r\n  var r2 = parseInt(s2);\r\n\r\n  var row = 1\r\n  var col = 1\r\n\r\n  var new_data_x = [];\r\n  var new_data_y = [];\r\n\r\n  for (let i = 1; i <= num_cols; i++) {\r\n    new_data_x.push({x : i.toString()});\r\n  }\r\n\r\n  for (let i = 1; i <= num_cols; i++) {\r\n    new_data_y.push({y : i.toString()});\r\n  }\r\n\r\n  for (let i = 0; i < r1; i++) {\r\n    var x_str = row.toString();\r\n    var y_str = col.toString();\r\n    data1.push({ x: x_str, y: y_str});\r\n    if(col == num_cols){\r\n      row = row + 1;\r\n      col = 1\r\n    } else {\r\n      col = col + 1\r\n    }\r\n  }\r\n\r\n  for (let i = r1; i < num_cells; i++) {\r\n    var x_str = row.toString();\r\n    var y_str = col.toString();\r\n    data2.push({ x: x_str, y: y_str});\r\n    if(col == num_cols){\r\n      row = row + 1;\r\n      col = 1\r\n    } else {\r\n      col = col + 1\r\n    }\r\n  }\r\n\r\n  return([data1, data2, new_data_x, new_data_y]);\r\n}\r\n\r\nfunction WaffleProportion(n: Number, m: Number){\r\n  var data1 = []\r\n  var data2 = []\r\n  var x_val = n.valueOf();\r\n  var y_val = m.valueOf();\r\n  var tot = x_val + y_val;\r\n  var num1 = x_val / tot;\r\n  var num2 = 1 - num1;\r\n\r\n  var s1 = (num1 * 100).toFixed();\r\n  var s2 = (num2 * 100).toFixed();\r\n\r\n  var r1 = parseInt(s1);\r\n  var r2 = parseInt(s2);\r\n\r\n  var row = 1\r\n  var col = 1\r\n\r\n  for (let i = 0; i < r1; i++) {\r\n    var x_str = row.toString();\r\n    var y_str = col.toString();\r\n    data1.push({ x: x_str, y: y_str});\r\n    if(col == 10){\r\n      row = row + 1;\r\n      col = 1\r\n    } else {\r\n      col = col + 1\r\n    }\r\n  }\r\n\r\n  for (let i = r1; i < 100; i++) {\r\n    var x_str = row.toString();\r\n    var y_str = col.toString();\r\n    data2.push({ x: x_str, y: y_str});\r\n    if(col == 10){\r\n      row = row + 1;\r\n      col = 1\r\n    } else {\r\n      col = col + 1\r\n    }\r\n  }\r\n\r\n  return([data1, data2]);\r\n}\r\n\r\nfunction TweetDownstream(props) {\r\n  const chart = useRef(null);\r\n\r\n  var down_r = props.down_r;\r\n  var down_n = props.down_n;\r\n  var divid = props.divid;\r\n\r\n  var rs = 3600\r\n  var nrs = 6400\r\n\r\n  useLayoutEffect(() => {\r\n    let x = am4core.create(divid, am4charts.XYChart);\r\n\r\n    x.paddingRight = 20;\r\n    x.paddingLeft = 20;\r\n\r\n    /* Chart code */\r\n// Themes begin\r\nam4core.useTheme(am4themes_animated);\r\n// Themes end\r\n\r\n// Chart\r\nlet chart = am4core.create( divid, am4charts.XYChart );\r\nchart.hiddenState.properties.opacity = 0; // this creates initial fade-in\r\n//chart.colors.step = 2;\r\nchart.colors.list = [am4core.color( \"#98a2df\" ), am4core.color( \"#e96b6a\" ), am4core.color(\"#a2df98\")]\r\n\r\nvar title = chart.titles.create();\r\nif (typeof props.title != \"undefined\"){\r\n  var t = props.title.toString();\r\n  title.text = t.concat(\" retweets\");\r\n  title.fontSize = 18;\r\n  title.marginBottom = 10;\r\n}\r\n\r\n\r\n// X axis\r\nlet xAxis = chart.xAxes.push( new am4charts.CategoryAxis() );\r\nxAxis.dataFields.category = \"x\";\r\nxAxis.renderer.grid.template.location = 0;\r\nxAxis.renderer.minGridDistance = 10;\r\nxAxis.renderer.labels.template.disabled = true;\r\nxAxis.data = [{ x: \"1\" }, { x: \"2\" }, { x: \"3\" }, { x: \"4\" }, { x: \"5\" }, { x: \"6\" }, { x: \"7\" }, { x: \"8\" }, { x: \"9\" }, { x: \"10\" }];\r\n\r\n// Y axis\r\nlet yAxis = chart.yAxes.push( new am4charts.CategoryAxis() );\r\nyAxis.renderer.labels.template.disabled = true;\r\nyAxis.renderer.grid.template.location = 0;\r\nyAxis.renderer.minGridDistance = 10;\r\nyAxis.dataFields.category = \"y\";\r\nyAxis.data = [{ y: \"1\" }, { y: \"2\" }, { y: \"3\" }, { y: \"4\" }, { y: \"5\" }, { y: \"6\" }, { y: \"7\" }, { y: \"8\" }, { y: \"9\" }, { y: \"10\" }];\r\n\r\n// Legend\r\nchart.legend = new am4charts.Legend();\r\n\r\n// Create series\r\nfunction createSeries(name) {\r\n  let series = chart.series.push( new am4charts.ColumnSeries() );\r\n  series.dataFields.categoryX = \"x\";\r\n  series.dataFields.categoryY = \"y\";\r\n  series.sequencedInterpolation = true;\r\n  series.defaultState.transitionDuration = 3000;\r\n  series.name = name;\r\n\r\n\r\n  // Set up column appearance\r\n  let column = series.columns.template;\r\n  column.strokeWidth = 1;\r\n  column.strokeOpacity = 1;\r\n  column.stroke = am4core.color( \"#ffffff\" );\r\n  column.width = am4core.percent( 100 );\r\n  column.height = am4core.percent( 100 );\r\n  //column.column.cornerRadius(6, 6, 6, 6);\r\n  \r\n  return series;\r\n}\r\n\r\nlet series1 = createSeries(\"Researchers\");\r\nseries1.data = [];\r\n\r\nlet series2 = createSeries(\"Non-Researchers\");\r\nseries2.data = [];\r\n\r\nvar num1 = new Number(0)\r\nnum1 = down_r\r\nvar num2 = new Number(0)\r\nnum2 = down_n\r\n\r\nseries1.name = \"Researchers: \" + num1.toString();\r\nseries2.name = \"Non-researchers: \" + num2.toString();\r\n\r\nvar datas = WaffleProportionCheat(num1, num2);\r\n\r\n  xAxis.data = datas[2];\r\n  yAxis.data = datas[3];\r\n\r\n  series1.data = datas[0];\r\n  series2.data = datas[1];\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n        <div id={divid} style={{ width: \"50%\", height: \"300px\" }}></div>\r\n    </div>\r\n    \r\n  );\r\n}\r\nexport default TweetDownstream;"]},"metadata":{},"sourceType":"module"}